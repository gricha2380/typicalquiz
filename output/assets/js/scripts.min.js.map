{"version":3,"sources":["scripts.js"],"names":["document","addEventListener","expandMenu","target","console","log","querySelector","classList","toggle","setTopic","selection","innerText","setDescription","spot","innerHTML","topicData","populateTopic","length","topicList","i","menuItems","querySelectorAll","setAttribute","onclick","this","topicPosition","getAttribute","startQuiz","xmlhttp","XMLHttpRequest","onreadystatechange","readyState","status","quizBody","responseText","updateProgressCounter","returnToMain","open","send","progressCounter","wholePage","JSON","parse","doAjax","event","preventDefault","id"],"mappings":"AAAA,aACAA,SAAAC,iBAAA,mBAAA,WAgCA,SAAAC,EAAAC,GACAC,QAAAC,IAAA,0BACAD,QAAAC,IAAA,IAAAF,EAAA,iBACAH,SAAAM,cAAA,IAAAH,EAAA,kBAAAI,UAAAC,OAAA,QA4BA,SAAAC,EAAAC,GACAN,QAAAC,IAAAK,GACAV,SAAAM,cAAA,cAAAK,UAAAD,EACAV,SAAAM,cAAA,8BAAAC,UAAAC,OAAA,QAKA,SAAAI,EAAAC,GACAT,QAAAC,IAAA,eAAAQ,GACAb,SAAAM,cAAA,uBAAAQ,UAAAC,EAAAF,GAAA,YAIA,SAAAG,IACAZ,QAAAC,IAAA,iCAAAU,EAAAE,QAIA,IAAA,IAHAC,EAAA,GAGAC,EAAA,EAAAA,EAAAJ,EAAAE,OAAAE,IACAD,GAHA,MAGAH,EAAAI,GAAA,KAFA,OAIAnB,SAAAM,cAAA,cAAAQ,UAAAI,EAEA,IAAAE,EAAApB,SAAAqB,iBAAA,mBACAjB,QAAAC,IAAAe,EAAAH,OAAA,uBACA,IAAAE,EAAA,EAAAA,EAAAC,EAAAH,OAAAE,IAEAC,EAAAD,GAAAG,aAAA,QAAAH,GAEAC,EAAAD,GAAAI,QAAA,WAEAd,EAAAe,KAAAV,WAGAF,EADAa,EAAAD,KAAAE,aAAA,WAYA,SAAAC,IAEA,IAAAC,EAAA,IAAAC,eAGAD,EAAAE,mBAAA,WACA,GAAA,GAAAN,KAAAO,YAAA,KAAAP,KAAAQ,OAAA,CACA,IAAAC,EAAAT,KAAAU,aACAlC,SAAAM,cAAA,cAAAQ,UAAAmB,EAIAE,IAEAnC,SAAAM,cAAA,mBAAAQ,UAAAC,EAAAU,GAAA,UAAA,GAAA,SAGAzB,SAAAM,cAAA,UAAAL,iBAAA,QAAA,WAEAG,QAAAC,IAAA,qBACA+B,QAIAR,EAAAS,KAAA,MArBA,mCAqBA,GACAT,EAAAU,OAKA,SAAAH,IACAnC,SAAAM,cAAA,aAAAQ,UAAA,aAAAyB,EAAA,MAAAxB,EAAAU,GAAA,UAAAR,OAGA,SAAAmB,IACAG,EAAA,EAGA,IAAAX,EAAA,IAAAC,eAGAD,EAAAE,mBAAA,WACA,GAAA,GAAAN,KAAAO,YAAA,KAAAP,KAAAQ,OAAA,CACA,IAAAQ,EAAAhB,KAAAU,aACA9B,QAAAC,IAAAmC,EAAA,wBACAxC,SAAAM,cAAA,cAAAQ,UAAA0B,IAGAZ,EAAAS,KAAA,MATA,cASA,GACAT,EAAAU,OA7JA,IAAAvB,EACAU,EACAc,EAAA,GAIA,WACA,IAAAX,EAAA,IAAAC,eAGAD,EAAAE,mBAAA,WACA,GAAAN,KAAAO,YAAA,KAAAP,KAAAQ,SACAjB,EAAA0B,KAAAC,MAAAlB,KAAAU,cACA9B,QAAAC,IAAA,qBACAD,QAAAC,IAAAU,GACAC,MAGAY,EAAAS,KAAA,MAVA,2BAUA,GACAT,EAAAU,OAEAK,GAGA3C,SAAAM,cAAA,cAAAL,iBAAA,QAAA,SAAA2C,GACAA,EAAAC,iBACAzC,QAAAC,IAAA,cAAAmB,KAAAsB,IACA5C,EAAAsB,KAAAsB,MA4EA9C,SAAAM,cAAA,UAAAL,iBAAA,QAAA,WACA0B,QAyDA","file":"scripts.min.js","sourcesContent":["'use strict'; // no sloppy JS habits allowed here.\ndocument.addEventListener('DOMContentLoaded', function(){\n\tvar topicData; // empty var to hold question JSON\n\tvar topicPosition;\n\tvar progressCounter = 1; // track number of questions asked\n\tvar score = 0; // track user's score\n\n\t// load questions and topics as soon as the page is ready\n\tfunction doAjax() {\n\t\tvar xmlhttp = new XMLHttpRequest();\n\t\tvar url = 'assets/data/topics.json';\n\n\t\txmlhttp.onreadystatechange = function() {\n\t\tif (this.readyState == 4 && this.status == 200) {\n    \t\ttopicData = JSON.parse(this.responseText);\n    \t\tconsole.log(\"Topic data, Morty\")\n    \t\tconsole.log(topicData);\n    \t\tpopulateTopic();\n    \t}\n    }\n    xmlhttp.open('GET', url, true);\n    xmlhttp.send();\n\t}\n\tdoAjax();\n\n\t// open select menu\n\tdocument.querySelector(\"#topicMenu\").addEventListener(\"click\", function(event){\n\t\tevent.preventDefault();\n\t\tconsole.log(\"You clicked\",this.id);\n\t\texpandMenu(this.id);\n\t});\n\n\t// when button is clicked, toggle visibility of menu items\n\tfunction expandMenu(target) {\n\t\tconsole.log(\"I am inside expandMenu\");\n\t\tconsole.log(\"#\"+target+\".dropdownList\");\n\t\tdocument.querySelector(\"#\"+target+\"+.dropdownList\").classList.toggle(\"show\");\n\n\t\t/*\n\t\tright now the menu stays open. This is as far as I got towards making it close when you click on the BG\n\t\tif (!event.target.matches(\"#\"+target+\".dropdownList a\")){\n\t\t\tdocument.querySelector(\"#\"+target+\"+.dropdownList\").classList.toggle(\"show\");\n\t\t\tconsole.log(\"make it close now\");\n\t\t}\n\t\t*/\n\n\t\t/* second try\n\t\tfor (var i = 0; i < menuItems.length; i++) {\n\t\t\tmenuItems[i].onclick = function(){\n\t\t\t\tconsole.log(\"I was clicked \"+this.innerHTML);\n\t\t\t}\n\t\t}\n\t\t*/\n\n\t\t// third try. Close if click is anythere outside the button\n\t\t// window.onclick = function(event){\n\t\t// \t// how can I have it match a click on 'this'?\n\t\t// \tif (!event.target.matches('button')){\n\t\t// \t\tdocument.querySelector(\"#\"+target+\"+.dropdownList\").classList.toggle(\"show\");\n\t\t// \t}\n\t\t// }\n\t} // end expandMenu\n\n\t// set topic contents from JSON when menu item is selected\n\tfunction setTopic(selection) {\n\t\tconsole.log(selection);\n\t\tdocument.querySelector(\"#topicMenu\").innerText = selection;\n\t\tdocument.querySelector(\"#topicMenu + .dropdownList\").classList.toggle(\"show\");\n\t\t//console.log(\"you clicked \"+selection.innerHTML);\n\t}\n\n\t// set description contents from JSON when menu item is selected\n\tfunction setDescription(spot) {\n\t\tconsole.log('this is spot', spot);\n\t\tdocument.querySelector(\"#topicRow .lowerBox\").innerHTML = topicData[spot]['description'];\n\t}\n\n\t// load topic items from JSON file\n\tfunction populateTopic() {\n\t\tconsole.log(\"this is how long topic data is\",topicData.length);\n\t\tvar topicList = '';\n\t\tvar linkOpen = '<a>';\n\t\tvar linkClose = '</a>'\n\t\tfor (var i = 0; i < topicData.length; i++) {\n\t\t\ttopicList += linkOpen + topicData[i][\"name\"] + linkClose;\n\t\t}\n\t\tdocument.querySelector(\"#topicList\").innerHTML = topicList;\n\n\t\tvar menuItems = document.querySelectorAll(\".dropdownList a\");\n\t\tconsole.log(menuItems.length,'length of menuItems');\n\t\tfor (var i = 0; i < menuItems.length; i++) {\n\t\t\t// Creates an attribute to track order. Sets it to current loop iteration value\n\t\t\tmenuItems[i].setAttribute('order', i);\n\t\t\t// onclick function for every menuItem link\n\t\t\tmenuItems[i].onclick = function(){\n\t\t\t// sends topic name to the button value\n\t\t\tsetTopic(this.innerHTML);\n\t\t\t// sends order position to description function. This pulls the corresponding description from the JSON\n\t\t\ttopicPosition = this.getAttribute('order');\n\t\t\tsetDescription(topicPosition);\n\t\t\t}\n\t\t}\n\t}\n\n\t// start quiz when button is pressed\n\tdocument.querySelector('.start').addEventListener('click', function() {\n\t\tstartQuiz();\n\t});\n\n\t// grab quiz page body\n\tfunction startQuiz(){\n\t\t// load quiz screen via AJAX\n\t\tvar xmlhttp = new XMLHttpRequest();\n\t\tvar url = 'assets/data/questionScreen.html';\n\n\t\txmlhttp.onreadystatechange = function() {\n\t\t\tif (this.readyState == 4 && this.status == 200) {\n\t    \t\tvar quizBody = this.responseText;\n\t    \t\tdocument.querySelector('.container').innerHTML = quizBody;\n\n\t    \t\t// add code to update dynamic elements of the page\n\t\t\t\t// progress counter\n\t\t\t\tupdateProgressCounter();\n\t\t\t\t// prefill question one from current topic data\n\t\t\t\tdocument.querySelector('.questionHolder').innerHTML = topicData[topicPosition]['questions'][0]['question'];\n\n\t\t\t\t// close button\n\t\t\t\tdocument.querySelector('.close').addEventListener('click', function(){\n\t\t\t\t\t// future: make prompt function. Pass confirm box into it. Have confirm box call main screen function\n\t\t\t\t\tconsole.log('close was pressed');\n\t\t\t\t\treturnToMain();\n\t\t\t\t});\n\t\t\t}\n\t    }\n\t    xmlhttp.open('GET', url, true);\n\t    xmlhttp.send();\n\n\t} // end quiz\n\n\t// update progress and score\n\tfunction updateProgressCounter() {\n\t\tdocument.querySelector('.progress').innerHTML = 'Progress: ' + progressCounter + ' / ' + topicData[topicPosition]['questions'].length;\n\t}\n\n\tfunction returnToMain() {\n\t\tprogressCounter = 1;\n\n\t\t// load quiz screen via AJAX\n\t\tvar xmlhttp = new XMLHttpRequest();\n\t\tvar url = 'index.html';\n\n\t\txmlhttp.onreadystatechange = function() {\n\t\t\tif (this.readyState == 4 && this.status == 200) {\n\t    \t\tvar wholePage = this.responseText;\n\t    \t\tconsole.log(wholePage,'here is my container');\n\t    \t\tdocument.querySelector('.container').innerHTML = wholePage;\n\t\t\t}\n\t    }\n\t    xmlhttp.open('GET', url, true);\n\t    xmlhttp.send();\n\t}\n\n// end fake document ready\n}, false);\n"]}