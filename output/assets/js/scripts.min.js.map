{"version":3,"sources":["scripts.js"],"names":["document","addEventListener","topicData","topicDataRandom","topicDataBackup","topicPosition","gameSession","timeStart","timeEnd","numberOfQuestions","topicDataFilteredCategory","chosenCategory","progressCounter","score","final","random","textStrings","selectTopic","pleaseAnswer","endQuiz","readLocalStorage","console","log","xmlhttp","wrongAnswers","expandMenu","target","querySelector","classList","toggle","event","matches","remove","setTopic","selection","count","innerText","innerHTML","randomOn","randomOff","populateCategory","categoryList","counter","u","location","i","length","indexOf","push","menuItems","querySelectorAll","setAttribute","onclick","this","getAttribute","questionTotal","setCategory","categoryCounter","add","randomToggle","randomTopicHolder","sort","a","b","Math","checkAnswer","currentQuestion","userAnswer","value","rightAnswer","toLowerCase","trim","modalGenerator","question","answer","errorGenerator","nextQuestion","updateProgressCounter","setProgressFieldValue","gameOverScreen","scoreMessage","d","dateNow","monthNow","yearNow","itemName","results","Date","getTime","date","getDate","getMonth","getFullYear","getHours","getMinutes","getSeconds","outOf","duration","millisToMinutesAndSeconds","abs","topic","category","window","localStorage","setItem","JSON","stringify","focus","contains","Number","returnToMain","reload","message","divClass","newDiv","createElement","appendChild","setTimeout","removeChild","actionOne","actionTwo","closeModal","keyCode","preventDefault","parse","getItem","millis","minutes","floor","seconds","toFixed","scoreHolder","calculateScore","calculateDuration","XMLHttpRequest","onreadystatechange","readyState","status","responseText","topicList","spot","populateTopic","open","send","id","quizBody","startQuiz"],"mappings":"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","file":"scripts.min.js","sourcesContent":["//'use strict'; // no sloppy JS habits allowed here.\n// wait till page is fully loaded\ndocument.addEventListener('DOMContentLoaded', function(){\n\tvar topicData; // empty let to hold question JSON\n\tvar topicDataRandom; // will hold the shuffled order\n\tvar topicDataBackup, backup2; // untampered copy of topicData order\n\tvar topicDataFilteredCategory = []; // holds questions from current category\n\tvar topicPosition; // track the selected topic\n\tvar categoryPosition; // track current category position... I might need this to be an object later.\n\tvar chosenCategory = 'All'; // hold user's selected category\n\tvar progressCounter = 0; // track number of questions asked\n\tvar score = 0; // track user's score\n\tvar final = null; // end status\n\tvar random = false; // boolean for shuffling questions\n\t// collection of text strings\n\tvar textStrings = {\n\t\t'selectTopic' : 'Please select a topic.',\n\t\t'pleaseAnswer' : 'At least try and answer the question, alright?',\n\t\t'endQuiz' : 'Are you sure you want to end your quiz?'\n\t} \n\tvar gameSession; // initialize local array for holding goals\n\t// if localStorage is found, load it into the variable\n\tif (readLocalStorage('gameSession')) {\n\t    //console.log('Found existing localStorage values.',readLocalStorage('gameSession'));\n\t    gameSession = readLocalStorage('gameSession');\n\t  }\n\t// otherwise make a blank array\n\telse {\n\t    console.log('No localStorage, starting fresh.');\n\t    gameSession = [];\n\t}\n\tvar timeStart; // will hold session starting timestamp\n\tvar timeEnd; // will hold session ending timestamp\n\tvar numberOfQuestions; // count of questions for stat page\n\tvar wrongAnswers = []; // hold all wrong answers\n\n\tfillStats(); // start by showing any existing stats\n\n\t// load questions and topics as soon as the page is ready\n\tfunction doAjax() {\n\t\tvar xmlhttp = new XMLHttpRequest(); // new request\n\t\tvar url = 'assets/data/topics.json'; // data source\n\n\t\txmlhttp.onreadystatechange = function() {\n\t\t\tif (this.readyState == 4 && this.status == 200) {\n\t    \t\ttopicData = JSON.parse(this.responseText); // holds entire JSON\n\t    \t\ttopicDataBackup = topicData; // create backup\n\t    \t\tconsole.log('Topic data backup CLEAN', topicDataBackup);\n\t    \t\ttopicDataRandom = topicData; // set random order to normal values... for now\n\t    \t\tconsole.log('Topicdata contents', topicData);\n\t    \t\t// console.log(topicData, 'untouched topicData');\n\t    \t\tpopulateTopic(); // fill Topic dropdown menu for user to choose\n\t    \t}\n    \t}\n\t    xmlhttp.open('GET', url, true); // connect\n\t    xmlhttp.send(); // Engage!\n\t}\n\tdoAjax(); // You know, run function.\n\n\t// built my own select menu\n\tfunction watchSelectMenu(){\n\t\t// open select menu when clicked\n\t\tdocument.querySelector(\".dropdownMenu\").addEventListener(\"click\", function(event){\n\t\t\tevent.preventDefault(); // stop button standard action\n\t\t\tconsole.log(\"You clicked topic menu\",this.id);\n\t\t\texpandMenu(this.id); //pass id to menu function\n\t\t});\n\t\t// open category menu when clicked\n\t\tdocument.querySelector(\".secondMenu\").addEventListener(\"click\", function(event){\n\t\t\t\tif (!document.querySelector(\"#categoryMenu\").classList.contains('disabled')) {\n\t\t\t\t\tevent.preventDefault(); // stop button standard action\n\t\t\t\t\tconsole.log(\"You clicked categoryMenu\",this.id);\n\t\t\t\t\texpandMenu(this.id); //pass id to menu function\n\t\t\t\t}\n\t\t\t});\n\t}\n\twatchSelectMenu();\n\n\t// when button is clicked, toggle visibility of menu items. It's not fully reusable (yet)\n\tfunction expandMenu(target) {\n\n\t\t// change CSS visibility for specified menu ID\n\t\tdocument.querySelector(\"#\"+target+\"+.dropdownList\").classList.toggle(\"show\");\n\n\t\t// hide menu if anything other than button is clicked\n\t\tdocument.querySelector('body').addEventListener('click', function(event){\n\t\t\t// if topic menu exists on page...\n\t\t\tif (document.querySelector(\"#\"+target+\"+ .dropdownList\")) {\n\t\t\t\t// if target isn't a button turn off show CSS class\n\t\t\t\tif (!event.target.matches('button')) {\n\t\t\t\t\tdocument.querySelector(\"#\"+target+\"+ .dropdownList\").classList.remove(\"show\");\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t} // end expandMenu\n\n\t// set homepage topic menu header from JSON when menu item is selected\n\tfunction setTopic(selection, count) {\n\t\tdocument.querySelector(\"#topicMenu\").innerText = selection;\n\t\tdocument.querySelector(\"#topicMenu + .dropdownList\").classList.toggle(\"show\");\n\t\t//console.log(\"you clicked \"+selection.innerHTML);\n\t\tdocument.querySelector('.questionCount').innerHTML = count + ' Questions'; // total number of questions\n\t\tif(random){\n\t\t\t// document.querySelector('.randomHolder').classList.add('active');\n\t\t\t// document.querySelector('.randomStatus').innerText = 'Random On'; // start with random off\n\t\t\t// randomToggle();\n\t\t\trandomOn();\n\t\t\tconsole.log('random is activated from setTopic');\n\t\t} else {\n\t\t\t// document.querySelector('.randomStatus').innerText = 'Random Off'; // start with random off\n\t\t\t// document.querySelector('.randomHolder').classList.remove('active');\n\t\t\t// randomToggle();\n\t\t\trandomOff();\n\t\t}\n\t\tdocument.querySelector('.randomHolder').classList.remove('hide'); // make random toggle visible\n\t}\n\n\t// set topic name on active quiz page\n\tfunction setTopicHeader() {\n\t\tdocument.querySelector('.topic').innerText = topicData[topicPosition]['name'];\n\t}\n\n\t// set topic name on active quiz page\n\tfunction setCategoryHeader() {\n\t\tdocument.querySelector('.category').innerText = 'Category: ' + chosenCategory;\n\t}\n\n\t// set description contents from JSON when menu item is selected\n\tfunction setDescription(spot) {\n\t\tdocument.querySelector(\"#topicRow .lowerBox\").innerHTML = topicData[spot]['description'];\n\t}\n\n\t// load topic items from JSON file\n\tfunction populateTopic() {\n\t\tvar topicList = ''; // hold HTML tag elements\n\t\tvar linkOpen = '<a>'; // opening tag to be appended below\n\t\tvar linkClose = '</a>' // closing tag to be appended below\n\t\t// attach opening and closing tag to each topic captured from JSON\n\t\tfor (var i = 0; i < topicData.length; i++) {\n\t\t\ttopicList += linkOpen + topicData[i][\"name\"] + linkClose; // grab name field\n\t\t}\n\t\tdocument.querySelector(\"#topicList\").innerHTML = topicList; // set div content\n\t\tvar menuItems = document.querySelectorAll(\"#topicList.dropdownList a\"); // selector for all list link elements\n\n\t\t// set click event listener for each element. I think this was clever\n\t\tfor (var i = 0; i < menuItems.length; i++) {\n\t\t\t// Creates an attribute to track order. Sets it to current loop iteration value\n\t\t\tmenuItems[i].setAttribute('order', i);\n\t\t\t// onclick function for every menuItem link\n\t\t\tmenuItems[i].onclick = function(){\n\t\t\t\t// sends order position to description function. Function pulls the corresponding description from the JSON\n\t\t\t\ttopicPosition = this.getAttribute('order');\n\t\t\t\tsetDescription(topicPosition); // set description to selected topic\n\t\t\t\tvar questionTotal = topicData[topicPosition]['questions'].length; // count questions\n\t\t\t\tsetTopic(this.innerHTML,questionTotal); // sends topic name to the button value. questionTotal to description\n\t\t\t\tif (document.querySelector('.secondMenu.disabled')) {\n\t\t\t\t\tdocument.querySelector('.secondMenu.disabled').classList.remove('disabled'); // enable the category selection menu\n\t\t\t\t}\n\t\t\t\tpopulateCategory(); // when topic is chosen set the category\n\t\t\t}\n\t\t}\n\t}\n\n\t// load category items from JSON file\n\tfunction populateCategory() {\n\t\tvar categoryList = '<a order=\\'0\\'>All</a>'; // hold HTML tag elements\n\t\tvar linkOpen = '<a>'; // opening tag to be appended below\n\t\tvar linkClose = '</a>' // closing tag to be appended below\n\t\tvar counter = 1; // counts number of questions in each category (might need an array...)\n\n\t\t// attach opening and closing tag to each topic captured from JSON\n\t\tvar u = []; // will hold unique categories\n\t\tvar location = topicData[topicPosition]['questions'];\n\t\tfor(var i = 0; i < location.length; i++) {\n\t\t\t// fancy index searching to filter unique values. If unique then add to array\n\t\t\tif (u.indexOf(location[i]['category']) == -1 && location[i]['category'] !== '') {\n\t\t\t\tu.push(location[i]['category']);\n\t\t\t\tconsole.log(topicData[topicPosition]['questions'][i]['category']);\n\t\t\t\tcategoryList += linkOpen + topicData[topicPosition]['questions'][i]['category'] + linkClose; // grab name field\n\t\t\t\tcounter++;\n\t\t\t}\n\t\t}\n\n\t\tdocument.querySelector(\"#categoryList\").innerHTML = categoryList; // set div content\n\t\tvar menuItems = document.querySelectorAll(\"#categoryList.dropdownList a\"); // selector for all list link elements\n\n\t\t// set click event listener for each element. I still think this is clever\n\t\tfor (var i = 0; i < menuItems.length; i++) {\n\t\t\t// Creates an attribute to track order. Sets it to current loop iteration value\n\t\t\tmenuItems[i].setAttribute('order', i);\n\t\t\t// onclick function for every menuItem link\n\t\t\tmenuItems[i].onclick = function(){\n\t\t\t\t// sends order position to description function. Function pulls the corresponding description from the JSON\n\t\t\t\tcategoryPosition = this.getAttribute('order');\n\t\t\t\t//setCatDescription(categoryPosition); // there is no category Position right now.\n\t\t\t\t// var questionTotal = topicData[topicPosition]['category'].length; // count questions\n\t\t\t\tvar questionTotal = counter; // count questions\n\t\t\t\tsetCategory(this.innerHTML,questionTotal); // sends category name to the button value. questionTotal to description\n\t\t\t}\n\t\t}\n\t}\n\n\t// set homepage Category menu header when item is selected\n\tfunction setCategory(selection, count) {\n\t\tchosenCategory = selection; // set global category to user's selection\n\t\tdocument.querySelector(\"#categoryMenu\").innerText = selection;\n\t\tdocument.querySelector(\"#categoryMenu + .dropdownList\").classList.toggle(\"show\");\n\t\tconsole.log(\"you clicked \" + selection);\n\t\t// document.querySelector('.questionCount').innerHTML = topicDataFilteredCategory[progressCounter].length + ' Questions'; // total number of questions\n\t\t// attach opening and closing tag to each topic captured from JSON\n\t\tvar u = []; // will hold unique categories\n\t\tvar location = topicData[topicPosition]['questions'];\n\t\tvar categoryCounter = 0;\n\t\tfor(var i = 0; i < location.length; i++) {\n\t\t\tif (location[i]['category'] == chosenCategory) {\n\t\t\t\tcategoryCounter++;\n\t\t\t}\n\t\t}\n\t\tif (chosenCategory == 'All') {\n\t\t\tdocument.querySelector('.questionCount').innerHTML = location.length + ' Questions';\n\t\t} else {\n\t\t\tdocument.querySelector('.questionCount').innerHTML = categoryCounter + ' Questions'; // total number of questions\n\t\t}\n\n\t}\n\n\n\t// event listener for start button. I can move this somewhere else...\n\tfunction watchQuiz(){\n\t\t// start quiz when button is pressed\n\t\tdocument.querySelector('.start').addEventListener('click', function() {\n\t\t\t// console.log(document.querySelector('#topicMenu').innerText);\n\t\t\tvar topicVar = document.querySelector('#topicMenu').innerText; // DOM selection for chosen topic\n\t\t\t// Input validation for topic\n\t\t\tif (topicVar == 'Choose One') {\n\t\t\t\terrorGenerator(textStrings.selectTopic); // modal with nagging text\n\t\t\t} else {\n\t\t\t\tstartQuiz(); // Engage!\n\t\t\t}\n\t\t});\n\t}\n\twatchQuiz(); // start event listener. Called via function later when container content is replaced.\n\t// I know there's probably a smarter way to do this...\n\n\n\t// reusabe random function\n\t/*function randomize(a, b) {\n\t\tconsole.log('i\\'m inside the randomize');\n\t    return Math.random();\n\t}*/\n\n\t//event listener to activate random order\n\tdocument.querySelector('.randomHolder').addEventListener('click', function(){\n\t\tif (random) {\n\t\t\trandom = false;\n\t\t\trandomOff();\n\t\t} else {\n\t\t\trandom = true;\n\t\t\trandomOn();\n\t\t}\n\t});\n\n\t// manipulate UI fields to communicate random status\n\tfunction randomOn(){\n\t\tdocument.querySelector('.randomStatus').innerText = 'Random on';\n\t\tdocument.querySelector('.randomHolder').classList.add('active');\n\t\trandomToggle();\n\t}\n\n\tfunction randomOff(){\n\t\tdocument.querySelector('.randomStatus').innerText = 'Random off';\n\t\tdocument.querySelector('.randomHolder').classList.remove('active');\n\t\trandomToggle();\n\t}\n\n\t// turn random on or off\n\tfunction randomToggle(){\n\t\tconsole.log('in randomToggle function');\n\t\tif (random) {\n\t\t\tconsole.log('random var has value');\n\t\t\t//var randomTopicHolder = topicDataRandom[topicPosition]['questions'];\n\t\t\tvar randomTopicHolder = topicDataRandom[topicPosition]['questions'];\n\t\t\tconsole.log(randomTopicHolder,'normal order');\n\t\t\trandomTopicHolder.sort(function (a, b) {return Math.random() - 0.5;});\n    \t\tconsole.log(randomTopicHolder,'random order');\n\t\t\ttopicData = topicDataRandom;\n\t\t\tconsole.log(topicData[topicPosition]['questions'],'topicData now random');\n\t\t} else {\n\t\t\tconsole.log('topicdata backup', topicDataBackup);\n\t\t\tconsole.log('topicdata random', topicDataRandom);\n\t\t\ttopicData = topicDataBackup; // reset topicData to the backup copy.\n\t\t\tconsole.log(topicData[topicPosition]['questions'],'topicData random is off');\n\t\t}\n\t}\n\n\t// grab quiz page body and fire off question and score system. This is the big one.\n\tfunction startQuiz(){\n\t\ttimeStart = new Date().getTime();\n\t\t// load quiz screen via AJAX\n\t\tvar xmlhttp = new XMLHttpRequest(); // new request\n\t\tvar url = 'assets/data/questionScreen.html'; // data source. It's just an HTML page\n\n\t\t// load quiz body and call even listeners\n\t\txmlhttp.onreadystatechange = function() {\n\t\t\tif (this.readyState == 4 && this.status == 200) {\n\t    \t\tvar quizBody = this.responseText; // holds entire JSON\n\t    \t\t// render HTML into container. A poor man's single page application.\n\t    \t\tdocument.querySelector('body').innerHTML = quizBody;\n\t    \t\t// How do I do this more intelligently?\n\n\t    \t\tsetTopicHeader(); // set topic name\n\t    \t\tsetCategoryHeader(); // set category name\n\n\t\t\t\t// if no category is chosen, proceed in with simple question asking\n\t\t\t\tif (chosenCategory == 'All') {\n\t\t\t\t\t// prefill question one from current topic data\n\t\t\t\t\tdocument.querySelector('.questionHolder').innerHTML = topicData[topicPosition]['questions'][0]['question'];\n\t\t\t\t} else {\n\t\t\t\t\t// console.log(topicData[topicPosition]['questions'].length,'length of questions');\n\t\t\t\t\tconsole.log('chosenCategory',chosenCategory);\n\t\t\t\t\tconsole.log(topicData[topicPosition]['questions']);\n\t\t\t\t\t// find all questions that match chosen category\n\t\t\t\t\tfor (var i = 0; i < topicData[topicPosition]['questions'].length; i++) {\n\t\t\t\t\t\t// if question matches category, add to filtered array\n\t\t\t\t\t\tconsole.log(topicData[topicPosition]['questions'][i]['category']);\n\t\t\t\t\t\tif (topicData[topicPosition]['questions'][i]['category'] == chosenCategory){\n\t\t\t\t\t\t\ttopicDataFilteredCategory.push(topicData[topicPosition]['questions'][i]);\n\t\t\t\t\t\t\t// console.log('category match. i gonna push');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tconsole.log(topicDataFilteredCategory,'show me what you got, topicDataFilteredCategory.');\n\t\t\t\t\tdocument.querySelector('.questionHolder').innerHTML = topicDataFilteredCategory[0]['question'];\n\t\t\t\t}\n\n\t\t\t\tdocument.querySelector('#yourAnswer').focus(); // give text input focus when quiz starts\n\n\t\t\t\t// close button event listener\n\t\t\t\tdocument.querySelector('.close').addEventListener('click', function(){\n\t\t\t\t\tmodalGenerator(textStrings.endQuiz, 'yes', 'no'); // pass text to modal method\n\t\t\t\t});\n\n\t\t\t\t// event listener for hint button\n\t\t\t\tdocument.querySelector('.hint').addEventListener('click', function(){\n\t\t\t\t\tconsole.log('progress counter inside hint is', progressCounter);\n\t\t\t\t\tmodalGenerator(topicData[topicPosition]['questions'][progressCounter]['hint'], 'yes');\n\t\t\t\t});\n\n\t\t\t\t// event listener for skip button\n\t\t\t\tdocument.querySelector('.skip').addEventListener('click', function(){\n\t\t\t\t\tnextQuestion(); // load next question without changing score\n\t\t\t\t});\n\n\t\t\t\t// if random boolean is enabled\n\t\t\t\tif (random) {\n\t\t\t\t\tdocument.querySelector('.random span').innerHTML = 'Random On';\n\t\t\t\t} else {\n\t\t\t\t\tdocument.querySelector('.random span').innerHTML = 'Random Off';\n\t\t\t\t}\n\n\t\t\t\t// event listener for answer button\n\t\t\t\tdocument.querySelector('.answer').addEventListener('click', function(){\n\t\t\t\t\tcheckAnswer();\n\t\t\t\t});\n\n\t\t\t\t// event listener for enter key\n\t\t\t\tdocument.querySelector('#yourAnswer').addEventListener('keypress', function(event){\n\t\t\t\t\tif (event.keyCode == 13) {\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\tconsole.log('you pressed enter in text field');\n\t\t\t\t\t\tif(!final){\n\t\t\t\t\t\t\tcheckAnswer();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\tsetProgressFieldValue(); // update progress value at top of screen\n\t    }\n\t    xmlhttp.open('GET', url, true); // connect\n\t    xmlhttp.send(); // Engage!\n\n\t} // end quiz. That was a big AJAX request...\n\n\t// validate user answer\n\tfunction checkAnswer(){\n\t\tvar userAnswer = document.querySelector('#answerRow textarea').value;\n\t\tvar currentQuestion;\n\t\t// if no category is specified\n\t\tif (chosenCategory == 'All') {\n\t\t\tvar rightAnswer = topicData[topicPosition]['questions'][(progressCounter)]['answer'];\n\t\t\tcurrentQuestion = topicData[topicPosition]['questions'][(progressCounter)]['question'];\n\t\t} // end all category\n\n\t\t// if there is a specified category\n\t\telse {\n\t\t\tvar rightAnswer = topicDataFilteredCategory[(progressCounter)]['answer'];\n\t\t\tcurrentQuestion = topicDataFilteredCategory[(progressCounter)]['question'];\n\t\t} // end else\n\n\t\t// basic validation. Show modal if there's a value in textarea\n\t\tif (userAnswer != '') {\n\t\t\t// see if user input matches real answer\n\t\t\tfunction checkAnswer(){\n\t\t\t\t// converts to lowercase and removes whitespace to be mobile friendly\n\t\t\t\tif (userAnswer.toLowerCase().trim() == rightAnswer.toLowerCase()) {\n\t\t\t\t\t// display right answer in modal\n\t\t\t\t\tmodalGenerator('Correct, the answer is <span class=\\'correct\\'>' + rightAnswer + '</span>', 'Continue');\n\t\t\t\t\tscore++; // increase score if correct\n\t\t\t\t} else {\n\t\t\t\t\twrongAnswers.push({\n\t\t\t\t\t\t'question' : currentQuestion,\n\t\t\t\t\t\t'answer' : rightAnswer,\n\t\t\t\t\t\t'userAnswer' : userAnswer\n\t\t\t\t\t});\n\t\t\t\t\tmodalGenerator('Sorry, the answer is <span class=\\'wrong\\'>' + rightAnswer + '</span>', 'Continue');\n\t\t\t\t}\n\t\t\t}\n\t\t\tcheckAnswer(); // call above function. Useful if I move the code block somewhere else\n\t\t}\n\t\telse {\n\t\t\terrorGenerator(textStrings.pleaseAnswer); // if field is blank yell at the user\n\t\t}\n\t} // end check answer\n\n\t// load new question from topicData JSON dump\n\tfunction nextQuestion() {\n\n\t\t// update counter if there are questions left in the topic\n\t\tif(progressCounter < topicData[topicPosition]['questions'].length) {\n\t\t\tupdateProgressCounter();\n\t\t} else if (progressCounter == topicData[topicPosition]['questions'].length) {\n\t\t\t// Placeholder for now. In the future I may want to take additional actions here if the game is over.\n\t\t\tupdateProgressCounter(); // This currently handles the end game scenario. Action here is kinda redundant (for now).\n\t\t}\n\t}\n\n\t// update progress and score\n\tfunction updateProgressCounter() {\n\t\t// if no category is specified\n\t\tif (chosenCategory == 'All') {\n\t\t\t// increase score if there are questions to ask\n\t\t\tif(progressCounter < topicData[topicPosition]['questions'].length) {\n\t\t\t\tprogressCounter++; // +1\n\t\t\t\t// if we're not on the last question\n\t\t\t\tif (progressCounter <= topicData[topicPosition]['questions'].length - 1){\n\t\t\t\t\t// console.log('new value for progressCounter: ' + progressCounter);\n\t\t\t\t\t// set HTML content to new question value\n\t\t\t\t\tdocument.querySelector('.questionHolder').innerHTML = topicData[topicPosition]['questions'][progressCounter]['question'];\n\t\t\t\t\t//console.log('this should be a new question',topicData[topicPosition]['questions'][progressCounter]['question']);\n\t\t\t\t\tsetProgressFieldValue(); // update progress display at top of page\n\t\t\t\t}\n\t\t\t}\n\t\t\t// if final question has already been asked\n\t\t\tif (progressCounter == topicData[topicPosition]['questions'].length) {\n\t\t\t\tgameOverScreen();\n\t\t\t}\n\t\t} // end all category\n\t\t// if specific category is chosen\n\t\telse {\n\t\t\tif(progressCounter < topicDataFilteredCategory.length) {\n\t\t\t\tprogressCounter++; // +1\n\t\t\t\t// if we're not on the last question\n\t\t\t\tif (progressCounter <= topicDataFilteredCategory.length - 1){\n\t\t\t\t\t// console.log('new value for progressCounter: ' + progressCounter);\n\t\t\t\t\t// set HTML content to new question value\n\t\t\t\t\tdocument.querySelector('.questionHolder').innerHTML = topicDataFilteredCategory[progressCounter]['question'];\n\t\t\t\t\t//console.log('this should be a new question',topicData[topicPosition]['questions'][progressCounter]['question']);\n\t\t\t\t\tsetProgressFieldValue(); // update progress display at top of page\n\t\t\t\t}\n\t\t\t}\n\t\t\t// if final question has already been asked\n\t\t\tif (progressCounter == topicDataFilteredCategory.length) {\n\t\t\t\tgameOverScreen();\n\t\t\t}\n\t\t}\n\n\t}\n\n\tfunction gameOverScreen(){\n\t\tconsole.log('Progress report: game over');\n\t\t// content of score page\n\t\tvar scoreMessage = '<h2>Game Over</h2>' + 'Topic: ' + topicData[topicPosition]['name']\n\t\t\t+ '<br>Category: ' + chosenCategory\n\t\t\t+ '<br><strong>Score</strong>: ' + score + ' out of ' + topicData[topicPosition]['questions'].length;\n\t\tconsole.log(wrongAnswers);\n\t\tvar results = '<div id=\\'answerToggle\\'>Show Wrong Answers</div><ul id=\\'resultsList\\'>';\n\t\tfor (var i = 0; i < wrongAnswers.length; i++) {\n\t\t\tresults += '<li><span>Question: </span>' + (wrongAnswers[i]['question']) + '</li>';\n\t\t\tresults += '<li><span>Your Answer: </span>' + (wrongAnswers[i]['userAnswer']) + '</li>';\n\t\t\tresults += '<li class=\\'groupEnd\\'><span>Correct Answer: </span>' + (wrongAnswers[i]['answer']) + '</li>';\n\t\t}\n\t\tresults += '</ul>';\n\n\t\t// lets other loops know the end game sequence is active.\n\t\t// Note: If I do a smarter content div replacement I'll need to clear this var when user presses Okay\n\t\tfinal = true;\n\t\ttimeEnd = new Date().getTime();\n\t\tgatherStats(); // send session stats to localStorage\n\t\tmodalGenerator(scoreMessage+results, 'Continue'); // should I make a 3rd var for desitnation?\n\t\tdocument.querySelector('.messageBox .yes').focus(); // give main action button focus\n\n\t\tdocument.querySelector('#answerToggle').addEventListener('click', function(){\n\t\t\tdocument.querySelector('#resultsList').classList.toggle('show');\n\t\t\tif ( document.querySelector('#resultsList').classList.contains('show')){\n\t\t\t\tdocument.querySelector('#answerToggle').innerHTML = 'Hide Wrong Answers';\n\t\t\t} else {\n\t\t\t\tdocument.querySelector('#answerToggle').innerHTML = 'Show Wrong Answers';\n\t\t\t}\n\n\t\t});\n\t}\n\n\t// update progress field contents\n\tfunction setProgressFieldValue() {\n\t\tif (chosenCategory == 'All') {\n\t\t\t// update counter at top of page\n\t\t\tif (document.querySelector('.progress')) {\n\t\t\t\tdocument.querySelector('.progress').innerHTML = 'Progress: '\n\t\t\t\t\t+ (Number(progressCounter) + 1) + ' / ' + topicData[topicPosition]['questions'].length;\n\t\t\t\t\tnumberOfQuestions = topicData[topicPosition]['questions'].length;\n\t\t\t}\n\t\t\t// clear the answer textarea if it exists on the page\n\t\t\tif(document.querySelector('#answerRow textarea')){\n\t\t\t\tdocument.querySelector('#answerRow textarea').value = '';\n\t\t\t}\n\t\t}\n\t\t// if specific category is chosen\n\t\telse {\n\t\t\t// update counter at top of page\n\t\t\tif (document.querySelector('.progress')) {\n\t\t\t\tdocument.querySelector('.progress').innerHTML = 'Progress: '\n\t\t\t\t\t+ (Number(progressCounter) + 1) + ' / ' + topicDataFilteredCategory.length;\n\t\t\t\t\tnumberOfQuestions = topicDataFilteredCategory.length;\n\t\t\t}\n\t\t\t// clear the answer textarea if it exists on the page\n\t\t\tif(document.querySelector('#answerRow textarea')){\n\t\t\t\tdocument.querySelector('#answerRow textarea').value = '';\n\t\t\t}\n\t\t}\n\n\t}\n\n\t// clear quiz content from container div and load start screen\n\tfunction returnToMain() {\n\t\tlocation.reload();\n\t\t// I need to do this properly or not at all...\n\t\t//progressCounter = 0;\n\t\t//doAjax();\n\t}\n\n\tif (document.querySelector('.info')) {\n\t\tdocument.querySelector('.info').addEventListener('click', function(){\n\t\t\t//openModal() {}\n\t\t\t//or...\n\t\t\t//strings = ['first','second','third'];\n\t\t\tvar strings = '<h3>What is this?</h3><div class=\\'left-align small\\'\\'><p>Typical Quiz is a study tool to help my stubborn brain remember stuff. Built from scratch in vanilla Javascript, it was also good code practice.</p><p>Source Code: <a href=\\'https://github.com/gricha2380/typicalquiz\\' class=\\'match\\'>https://github.com/gricha2380/typicalquiz</a></p></div>';\n\t\t\tmodalGenerator(strings,'Okay');\n\t\t});\n\t}\n\n\n\t// nifty function to deliver standardized error messages\n\tfunction errorGenerator(message) {\n\t\tvar divClass = 'errorBox'; // matches CSS properties\n\t\tvar newDiv = document.createElement('div'); // create div element\n\t\tnewDiv.classList.add(divClass); // apply class for manipulation & styling\n\t\tnewDiv.innerText = message; // apply message var as content of new div\n\t\t//console.log(newDiv);\n\t\tdocument.querySelector('.container').appendChild(newDiv); // render div at bottom of container\n\t\t// delete error after 5 seconds\n\t\tsetTimeout(function() {\n\t    \tdocument.querySelector('.container').removeChild(document.querySelector('.' + divClass));\n\t    }, 5000);\n\t}\n\n\tfunction modalGenerator(message, actionOne, actionTwo) {\n\t\tvar divClass = 'messageBox'; // hold CSS class name\n\t\tvar newDiv = document.createElement('div'); // create div element\n\t\tnewDiv.classList.add(divClass); // apply class for manipulation & styling\n\t\t//newDiv.innerText = message; // apply message var as content of new div. Ha, simpler times.\n\t\t// Assume two buttons means one will end game\n\t\tif (actionTwo) {\n\t\t\t// apply HTML for two button row. Use passed value for caption. Actions are predetermined.\n\t\t\tnewDiv.innerHTML = '<div class=\\'inner\\'><div class=\\'row pad\\'>'\n\t\t\t\t+ message + '</div> <div class=\\'row full multi\\'><button class=\\'yes\\'>' + actionOne\n\t\t\t\t+ '</button><button class=\\'no\\'>' + actionTwo +'</button></div></div>';\n\t\t\tdocument.querySelector('.container').appendChild(newDiv); // render div at bottom of container\n\t\t\tdocument.querySelector('.' + divClass +' .yes').focus(); // give main action button focus\n\t\t\t// If user clicks yes, return to main\n\t\t\tdocument.querySelector('.' + divClass +' .yes').addEventListener('click', function(){\n\t\t\tdocument.querySelector('.container').removeChild(document.querySelector('.' + divClass));\n\t\t\treturnToMain(); // O'Brien, one to beam up.\n\t\t\t});\n\t\t\t// If user presses no, just cancel\n\t\t\tdocument.querySelector('.' + divClass + ' .no').addEventListener('click', function(){\n\t\t\t\t// self destruct the modal if no\n\t\t\t\tdocument.querySelector('.container').removeChild(document.querySelector('.' + divClass));\n\t\t\t\tdocument.querySelector('#yourAnswer').focus(); // give text input focus\n\t\t\t});\n\t\t}\n\t\t// If only one button option is passed\n\t\telse {\n\t\t\t// apply HTML for single button row. Use passed value for caption. Actions are still predetermined.\n\t\t\tnewDiv.innerHTML = '<div class=\\'inner\\'><div class=\\'row pad\\'>'\n\t\t\t\t+ message + '</div> <div class=\\'row full\\'><button class=\\'yes\\'>'\n\t\t\t\t+ actionOne + '</button></div></div>';\n\t\t\tdocument.querySelector('.container').appendChild(newDiv); // render div at bottom of container\n\t\t\tdocument.querySelector('.' + divClass +' .yes').focus(); // give main action button focus\n\n\t\t\t// close modal on enter keypress\n\t\t\tdocument.querySelector('.' + divClass +' .yes').addEventListener('keypress', function(event){\n\t\t\t\tconsole.log('I know you pressed something')\n\t\t\t\t//console.log(event.keyCode)\n\t\t\t\tif (event.keyCode == 13) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tconsole.log('you pressed enter in a modal');\n\t\t\t\t\tcloseModal();\n\t\t\t\t\t//69 = e;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// if user clicks the button, delete the modal\n\t\t\tdocument.querySelector('.' + divClass +' .yes').addEventListener('click', function(){\n\t\t\t\tcloseModal();\n\t\t\t\tconsole.log('I will try to close modal');\n\t\t\t});\n\t\t}\n\n\t\tfunction closeModal(){\n\t\t\tdocument.querySelector('.container').removeChild(document.querySelector('.' + divClass)); // self destruct\n\t\t\t// If caption matches answer box button. There are smarter ways to do this...\n\t\t\tif (actionOne == 'Continue') {\n\t\t\t\t// if final var has value, do endgame scenario\n\t\t\t\tif (final) {\n\t\t\t\t\treturnToMain();\n\t\t\t\t} else {\n\t\t\t\t\tnextQuestion();\n\t\t\t\t\tdocument.querySelector('#yourAnswer').focus(); // give text input focus\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t} // end modal generator\n\n\n\t// save to localStorage\n\tfunction saveLocalStorage(itemName) {\n\t\twindow.localStorage.setItem('gameSession', JSON.stringify(itemName));\n\t\tconsole.log('prove it exists by typing:','JSON.parse(window.localStorage.getItem(\\'' + 'gameSession' + '\\'));');\n\t}\n\n\t  // read from localStorage\n\t  function readLocalStorage(itemName) {\n\t    return JSON.parse(window.localStorage.getItem(itemName));\n\t  }\n\n\t// collects data to send to localStorage\n\tfunction gatherStats(){\n\t\tconsole.log('Info sent to localStorage');\n\t  \t// When game is over, push stats to array\n\t\tgameSession.push({\n\t\t\t'date' : formatDate(),\n\t\t\t'score' : score,\n\t\t\t'outOf' : numberOfQuestions,\n\t\t\t'duration' : [timeStart, timeEnd, millisToMinutesAndSeconds(Math.abs(timeStart - timeEnd))],\n\t\t\t'topic' : topicData[topicPosition]['name'],\n\t\t\t'category' : chosenCategory\n\t\t});\n\t\t// send array to localStorage function\n\t\tsaveLocalStorage(gameSession);\n\t}\n\n\t// date and time\n\tfunction formatDate() {\n\t    var months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sept', 'Oct', 'Nov', 'Dec'];\n\t    var d = new Date();\n\t    var dateNow = d.getDate();\n\t    var monthNow = d.getMonth();\n\t    var yearNow = d.getFullYear();\n\t    var timeNow = d.getHours()+':'+d.getMinutes()+':'+d.getSeconds();\n\t    return months[monthNow] +' '+ dateNow + ', ' + yearNow;\n  \t}\n\n  \t// miliseconds to seconds\n  \tfunction millisToMinutesAndSeconds(millis) {\n\t  var minutes = Math.floor(millis / 60000);\n\t  var seconds = ((millis % 60000) / 1000).toFixed(0);\n\t  return minutes + \":\" + (seconds < 10 ? '0' : '') + seconds;\n\t}\n\n\t// fill out stats blocks\n\tfunction fillStats() {\n\t\tif (readLocalStorage('gameSession')) {\n\t\t\t//console.log('gameSession', gameSession);\n\t\t\tdocument.querySelector('.stats .quizSessions span').innerHTML = gameSession.length;\n\t\t\tdocument.querySelector('.stats .avgScore span').innerHTML = calculateScore();\n\t\t\tdocument.querySelector('.stats .avgDuration span').innerHTML = calculateDuration();\n\t\t\t//document.querySelector('.stats .fastestRound span').innerHTML = calcualteFastest();\n\t\t\t//document.querySelector('.stats .slowestRound span').innerHTML = gameSession.length;\n\t\t} else {\n\t\t\tdocument.querySelector('.stats ul').innerHTML = '<span class=\\'dim\\'>No games played yet!</span>';\n\t\t}\n\t}\n\t// perform math before sending to localStorage\n\tfunction calculateScore() {\n\t\tvar scoreHolder = 0;\n\t\tfor(var i = 0;i<gameSession.length;i++){\n\t\t\tscoreHolder += gameSession[i]['score'] / gameSession[i]['outOf'];\n\t\t\t//console.log(scoreHolder, \"scoreHolder current\");\n\t\t}\n\t\t// console.log(scoreHolder / gameSession.length,'scoreholder / gamelesson length');\n\t\tscoreHolder = (scoreHolder / gameSession.length * 100).toFixed(2) + '%';\n\t\t// console.log(scoreHolder);\n\t\treturn scoreHolder;\n\t}\n\n\t// subtract timestamps to determine how log the session was\n\tfunction calculateDuration() {\n\t\tvar scoreHolder = 0;\n\t\tfor(var i = 0;i<gameSession.length;i++){\n\t\t\tscoreHolder += gameSession[i]['duration'][1] - gameSession[i]['duration'][0];\n\t\t\t// console.log(scoreHolder, \"scoreHolder current\");\n\t\t}\n\t\tscoreHolder = scoreHolder / gameSession.length;\n\t\t//console.log(scoreHolder, 'avg duration here');\n\t\treturn millisToMinutesAndSeconds(scoreHolder);\n\t}\n\t// loop through session data to determine fastest session\n\tfunction calcualteFastest() {\n\t\tvar scoreHolder = 0;\n\t\tfor(var i = 0;i<gameSession.length;i++){\n\t\t\tscoreHolder += gameSession[i]['duration'][1] - gameSession[i]['duration'][0];\n\t\t\t// console.log(scoreHolder, \"scoreHolder current\");\n\t\t}\n\t\tscoreHolder = scoreHolder / gameSession.length;\n\t\t//console.log(scoreHolder, 'avg duration here');\n\t\treturn millisToMinutesAndSeconds(scoreHolder);\n\t}\n\n\t// Placeholder. Not being used.\n\tfunction calcualteSlowest() {\n\t\tvar scoreHolder = 0;\n\t\treturn millisToMinutesAndSeconds(scoreHolder);\n\t}\n\n// end fake document ready\n}, false);"]}