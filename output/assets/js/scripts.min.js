"use strict";document.addEventListener("DOMContentLoaded",function(){function e(e){document.querySelector("#"+e+"+.dropdownList").classList.toggle("show"),document.querySelector("body").addEventListener("click",function(e){document.querySelector("#topicMenu + .dropdownList")&&(e.target.matches("button")||document.querySelector("#topicMenu + .dropdownList").classList.remove("show"))})}function t(e,t){document.querySelector("#topicMenu").innerText=e,document.querySelector("#topicMenu + .dropdownList").classList.toggle("show"),document.querySelector(".questionCount").innerHTML=t+" Questions",document.querySelector(".randomStatus").innerText="Random Off",document.querySelector(".randomHolder").classList.remove("hide")}function n(){document.querySelector(".topic").innerText=m[S].name}function o(e){document.querySelector("#topicRow .lowerBox").innerHTML=m[e].description}function r(){for(var e="",n=0;n<m.length;n++)e+="<a>"+m[n].name+"</a>";document.querySelector("#topicList").innerHTML=e;for(var r=document.querySelectorAll(".dropdownList a"),n=0;n<r.length;n++)r[n].setAttribute("order",n),r[n].onclick=function(){o(S=this.getAttribute("order"));var e=m[S].questions.length;t(this.innerHTML,e)}}function c(){var e=new XMLHttpRequest;e.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=this.responseText;document.querySelector(".container").innerHTML=e,n(),document.querySelector(".questionHolder").innerHTML=m[S].questions[0].question,document.querySelector(".close").addEventListener("click",function(){l(L.endQuiz,"yes","no")}),document.querySelector(".hint").addEventListener("click",function(){console.log("progress counter inside hint is",v),l(m[S].questions[v].hint,"yes")}),document.querySelector(".skip").addEventListener("click",function(){s()}),document.querySelector(".random span").innerHTML=h?"Random On":"Random Off",document.querySelector(".answer").addEventListener("click",function(){var e=document.querySelector("#answerRow textarea").value,t=m[S].questions[v].answer;if(""!=e){e.toLowerCase().trim()==t.toLowerCase()?(l("Correct, the answer is <span class='correct'>"+t+"</span>","Continue"),p++):l("Sorry, the answer is <span class='wrong'>"+t+"</span>","Continue")}else a(L.pleaseAnswer)})}i()},e.open("GET","assets/data/questionScreen.html",!0),e.send()}function s(){v<m[S].questions.length?u():v==m[S].questions.length&&u()}function u(){if(v<m[S].questions.length&&++v<=m[S].questions.length-1&&(document.querySelector(".questionHolder").innerHTML=m[S].questions[v].question,i()),v==m[S].questions.length){console.log("Progress report: game over");var e="<h2>Game Over</h2>Topic: "+m[S].name+"<br>Category: ... Coming Soon <br><strong>Score</strong>: "+p+" out of "+m[S].questions.length;f=!0,l(e,"Continue")}}function i(){document.querySelector(".progress")&&(document.querySelector(".progress").innerHTML="Progress: "+(Number(v)+1)+" / "+m[S].questions.length),document.querySelector("#answerRow textarea")&&(document.querySelector("#answerRow textarea").value="")}function d(){location.reload()}function a(e){var t=document.createElement("div");t.classList.add("errorBox"),t.innerText=e,document.querySelector(".container").appendChild(t),setTimeout(function(){document.querySelector(".container").removeChild(document.querySelector(".errorBox"))},5e3)}function l(e,t,n){var o="messageBox",r=document.createElement("div");r.classList.add(o),n?(r.innerHTML="<div class='inner'><div class='row pad'>"+e+"</div> <div class='row full multi'><button class='yes'>"+t+"</button><button class='no'>"+n+"</button></div></div>",document.querySelector(".container").appendChild(r),document.querySelector(".messageBox .yes").addEventListener("click",function(){document.querySelector(".container").removeChild(document.querySelector("."+o)),d()}),document.querySelector(".messageBox .no").addEventListener("click",function(){document.querySelector(".container").removeChild(document.querySelector("."+o))})):(r.innerHTML="<div class='inner'><div class='row pad'>"+e+"</div> <div class='row full'><button class='yes'>"+t+"</button></div></div>",document.querySelector(".container").appendChild(r),document.querySelector(".messageBox .yes").addEventListener("click",function(){document.querySelector(".container").removeChild(document.querySelector("."+o)),"Continue"==t&&(f?d():s())}))}var m,q,y,S,v=0,p=0,f=null,h=null,L={selectTopic:"Please select a topic.",pleaseAnswer:"At least try and answer the question, alright?",endQuiz:"Are you sure you want to end your quiz?"};!function(){var e=new XMLHttpRequest;e.onreadystatechange=function(){4==this.readyState&&200==this.status&&(m=JSON.parse(this.responseText),y=m,q=m,r())},e.open("GET","assets/data/topics.json",!0),e.send()}(),document.querySelector("#topicMenu").addEventListener("click",function(t){t.preventDefault(),e(this.id)}),document.querySelector(".start").addEventListener("click",function(){"Choose One"==document.querySelector("#topicMenu").innerText?a(L.selectTopic):c()}),document.querySelector(".randomHolder").addEventListener("click",function(){if(h)h=!1,document.querySelector(".randomStatus").innerText="Random off",document.querySelector(".randomHolder").classList.remove("active"),m=y,console.log(m[S].questions);else{console.log(m[S].questions,"untouched topicData"),h=!0,document.querySelector(".randomStatus").innerText="Random on",document.querySelector(".randomHolder").classList.add("active");var e=q[S].questions;console.log(e,"normal order"),e.sort(function(e,t){return Math.random()-.5}),console.log(e,"random order"),m=q,console.log(m[S].questions,"topicData now random")}})},!1);
//# sourceMappingURL=scripts.min.js.map
