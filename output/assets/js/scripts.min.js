"use strict";document.addEventListener("DOMContentLoaded",function(){function e(e){document.querySelector("#"+e+"+.dropdownList").classList.toggle("show"),document.querySelector("body").addEventListener("click",function(t){document.querySelector("#"+e+"+ .dropdownList")&&(t.target.matches("button")||document.querySelector("#"+e+"+ .dropdownList").classList.remove("show"))})}function t(e){document.querySelector("#"+e+"+.dropdownList").classList.toggle("show"),document.querySelector("body").addEventListener("click",function(t){document.querySelector("#"+e+"+ .dropdownList")&&(t.target.matches("button")||document.querySelector("#"+e+"+ .dropdownList").classList.remove("show"))})}function o(e,t){document.querySelector("#topicMenu").innerText=e,document.querySelector("#topicMenu + .dropdownList").classList.toggle("show"),document.querySelector(".questionCount").innerHTML=t+" Questions",document.querySelector(".randomStatus").innerText="Random Off",document.querySelector(".randomHolder").classList.remove("hide")}function n(){document.querySelector(".topic").innerText=g[v].name}function r(e){document.querySelector("#topicRow .lowerBox").innerHTML=g[e].description}function c(){for(var e="",t=0;t<g.length;t++)e+="<a>"+g[t].name+"</a>";document.querySelector("#topicList").innerHTML=e;for(var n=document.querySelectorAll("#topicList.dropdownList a"),t=0;t<n.length;t++)n[t].setAttribute("order",t),n[t].onclick=function(){r(v=this.getAttribute("order"));var e=g[v].questions.length;o(this.innerHTML,e),document.querySelector(".secondMenu.disabled")&&document.querySelector(".secondMenu.disabled").classList.remove("disabled"),s()}}function s(){for(var e="<a order='0'>All</a>",t=1,o=[],n=g[v].questions,r=0;r<n.length;r++)-1==o.indexOf(n[r].category)&&""!==n[r].category&&(o.push(n[r].category),console.log(g[v].questions[r].category),e+="<a>"+g[v].questions[r].category+"</a>",t++);document.querySelector("#categoryList").innerHTML=e;for(var c=document.querySelectorAll("#categoryList.dropdownList a"),r=0;r<c.length;r++)c[r].setAttribute("order",r),c[r].onclick=function(){L=this.getAttribute("order");var e=t;u(this.innerHTML,e)}}function u(e,t){f=e,document.querySelector("#categoryMenu").innerText=e,document.querySelector("#categoryMenu + .dropdownList").classList.toggle("show"),console.log("you clicked "+e)}function i(){var e=new XMLHttpRequest;e.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=this.responseText;if(document.querySelector(".container").innerHTML=e,n(),"all"==f)document.querySelector(".questionHolder").innerHTML=g[v].questions[0].question;else{console.log("chosenCategory",f),console.log(g[v].questions);for(var t=0;t<g[v].questions.length;t++)console.log(g[v].questions[t].category),g[v].questions[t].category==f&&p.push(g[v].questions[t]);console.log(p,"show me what you got, topicDataFilteredCategory."),document.querySelector(".questionHolder").innerHTML=p[0].question}document.querySelector(".close").addEventListener("click",function(){y(b.endQuiz,"yes","no")}),document.querySelector(".hint").addEventListener("click",function(){console.log("progress counter inside hint is",w),y(g[v].questions[w].hint,"yes")}),document.querySelector(".skip").addEventListener("click",function(){d()}),document.querySelector(".random span").innerHTML=H?"Random On":"Random Off",document.querySelector(".answer").addEventListener("click",function(){var e=document.querySelector("#answerRow textarea").value,t=g[v].questions[w].answer;if(""!=e){e.toLowerCase().trim()==t.toLowerCase()?(y("Correct, the answer is <span class='correct'>"+t+"</span>","Continue"),T++):y("Sorry, the answer is <span class='wrong'>"+t+"</span>","Continue")}else q(b.pleaseAnswer)})}a()},e.open("GET","assets/data/questionScreen.html",!0),e.send()}function d(){w<g[v].questions.length?l():w==g[v].questions.length&&l()}function l(){if(w<g[v].questions.length&&++w<=g[v].questions.length-1&&(document.querySelector(".questionHolder").innerHTML=g[v].questions[w].question,a()),w==g[v].questions.length){console.log("Progress report: game over");var e="<h2>Game Over</h2>Topic: "+g[v].name+"<br>Category: ... Coming Soon <br><strong>Score</strong>: "+T+" out of "+g[v].questions.length;M=!0,y(e,"Continue")}}function a(){document.querySelector(".progress")&&(document.querySelector(".progress").innerHTML="Progress: "+(Number(w)+1)+" / "+g[v].questions.length),document.querySelector("#answerRow textarea")&&(document.querySelector("#answerRow textarea").value="")}function m(){location.reload()}function q(e){var t=document.createElement("div");t.classList.add("errorBox"),t.innerText=e,document.querySelector(".container").appendChild(t),setTimeout(function(){document.querySelector(".container").removeChild(document.querySelector(".errorBox"))},5e3)}function y(e,t,o){var n="messageBox",r=document.createElement("div");r.classList.add(n),o?(r.innerHTML="<div class='inner'><div class='row pad'>"+e+"</div> <div class='row full multi'><button class='yes'>"+t+"</button><button class='no'>"+o+"</button></div></div>",document.querySelector(".container").appendChild(r),document.querySelector(".messageBox .yes").addEventListener("click",function(){document.querySelector(".container").removeChild(document.querySelector("."+n)),m()}),document.querySelector(".messageBox .no").addEventListener("click",function(){document.querySelector(".container").removeChild(document.querySelector("."+n))})):(r.innerHTML="<div class='inner'><div class='row pad'>"+e+"</div> <div class='row full'><button class='yes'>"+t+"</button></div></div>",document.querySelector(".container").appendChild(r),document.querySelector(".messageBox .yes").addEventListener("click",function(){document.querySelector(".container").removeChild(document.querySelector("."+n)),"Continue"==t&&(M?m():d())}))}var g,S,h,v,L,p=[],f="all",w=0,T=0,M=null,H=null,b={selectTopic:"Please select a topic.",pleaseAnswer:"At least try and answer the question, alright?",endQuiz:"Are you sure you want to end your quiz?"};!function(){var e=new XMLHttpRequest;e.onreadystatechange=function(){4==this.readyState&&200==this.status&&(g=JSON.parse(this.responseText),h=g,S=g,c())},e.open("GET","assets/data/topics.json",!0),e.send()}(),document.querySelector(".dropdownMenu").addEventListener("click",function(t){t.preventDefault(),console.log("You clicked topic menu",this.id),e(this.id)}),document.querySelector(".secondMenu").addEventListener("click",function(e){document.querySelector("#categoryMenu").classList.contains("disabled")||(e.preventDefault(),console.log("You clicked categoryMenu",this.id),t(this.id))}),document.querySelector(".start").addEventListener("click",function(){"Choose One"==document.querySelector("#topicMenu").innerText?q(b.selectTopic):i()}),document.querySelector(".randomHolder").addEventListener("click",function(){if(H)H=!1,document.querySelector(".randomStatus").innerText="Random off",document.querySelector(".randomHolder").classList.remove("active"),g=h,console.log(g[v].questions);else{console.log(g[v].questions,"untouched topicData"),H=!0,document.querySelector(".randomStatus").innerText="Random on",document.querySelector(".randomHolder").classList.add("active");var e=S[v].questions;console.log(e,"normal order"),e.sort(function(e,t){return Math.random()-.5}),console.log(e,"random order"),g=S,console.log(g[v].questions,"topicData now random")}})},!1);
//# sourceMappingURL=scripts.min.js.map
